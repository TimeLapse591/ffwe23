name: Ubuntu GUI VPS - AnyDesk + Otomatik Ayarlar

on:
  workflow_dispatch:

jobs:
  ubuntu-vps:
    runs-on: ubuntu-latest
    timeout-minutes: 360

    steps:
      - name: ğŸŒ Statik IP SimÃ¼lasyonu
        run: |
          echo "âš ï¸ GitHub Actions IP adresi dinamiktir. Statik atanamaz."
          ip a

      - name: âš™ï¸ Sistem Bilgisi ve CPU AyarÄ±
        run: |
          echo "ğŸ”§ Ä°ÅŸlemci Bilgisi:"
          lscpu | grep -E 'Model name|CPU\(s\)|Thread|Core'
          echo "ğŸ’¡ Ã‡ekirdek sayÄ±sÄ±nÄ± tespit ettik: $(nproc) Ã§ekirdek"

      - name: ğŸ–¥ï¸ MasaÃ¼stÃ¼ (GUI xfce4) Kurulumu
        run: |
          sudo apt update
          sudo apt install -y xfce4 xfce4-goodies x11vnc dbus-x11

      - name: ğŸ§© AnyDesk Kurulumu
        run: |
          wget -qO - https://keys.anydesk.com/repos/DEB-GPG-KEY | sudo apt-key add -
          echo "deb http://deb.anydesk.com/ all main" | sudo tee /etc/apt/sources.list.d/anydesk.list
          sudo apt update
          sudo apt install -y anydesk
          sudo systemctl start anydesk

      - name: ğŸ†” AnyDesk ID GÃ¶ster
        run: |
          sleep 10
          echo "ğŸ¯ AnyDesk ID:"
          anydesk --get-id || echo "ğŸ›‘ GUI ortamÄ± henÃ¼z aktif deÄŸil olabilir."

      - name: ğŸ§ª BaÄŸlantÄ± Bilgisi (IP)
        run: |
          echo "ğŸŒ DÄ±ÅŸ IP adresi:"
          curl -s https://ipinfo.io/ip || echo "IP alÄ±namadÄ±"

      - name: ğŸ§¼ Son
        run: echo "âœ… Kurulum tamam. BaÄŸlantÄ± iÃ§in AnyDesk ID'yi kullanabilirsin."
