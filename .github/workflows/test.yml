name: Ubuntu GUI + AnyDesk

on:
  workflow_dispatch:

jobs:
  ubuntu-desktop:
    runs-on: ubuntu-latest
    timeout-minutes: 360

    steps:
      - name: GUI OrtamÄ±nÄ± Kur (xfce4)
        run: |
          sudo apt update
          sudo apt install -y xfce4 xfce4-goodies x11vnc dbus-x11

      - name: AnyDesk Kurulumu
        run: |
          wget -qO - https://keys.anydesk.com/repos/DEB-GPG-KEY | sudo apt-key add -
          echo "deb http://deb.anydesk.com/ all main" | sudo tee /etc/apt/sources.list.d/anydesk.list
          sudo apt update
          sudo apt install -y anydesk
          sudo systemctl start anydesk

      - name: AnyDesk IDâ€™yi GÃ¶ster
        run: |
          sleep 10
          echo "ðŸ”— AnyDesk ID:"
          anydesk --get-id || echo "AnyDesk ID alÄ±namadÄ± (GUI devre dÄ±ÅŸÄ± olabilir)"

      - name: Sistem Bilgisi
        run: |
          echo "RAM ve CPU:"
          free -h
          lscpu | grep -E 'Model name|CPU\(s\)|Thread|Core'
